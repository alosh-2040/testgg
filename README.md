# World of Football - Local Server

ุณูุฑูุฑ ูุญูู Node.js ูุชูุฏูู ุจูุงูุงุช ุงููููุงุช ุงูุฑูุงุถูุฉ ูุชุทุจูู Flutter.

## ๐ ุงููุชุทูุจุงุช

- Node.js 14+ ูุซุจุช ุนูู ุงูุฌูุงุฒ
- npm (ูุฃุชู ูุน Node.js)

## ๐ ุงูุชุซุจูุช

### 1. ุชุซุจูุช Node.js Dependencies

```bash
cd server
npm install
```

ุณูุชู ุชุซุจูุช:
- `express` - Web framework
- `cors` - ููุณูุงุญ ููุชุทุจูู ุจุงูุงุชุตุงู
- `nodemon` (dev) - ูุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุชููุงุฆู

## โถ๏ธ ุชุดุบูู ุงูุณูุฑูุฑ

### ุงูุทุฑููุฉ ุงูุฃููู: ุงูุชุดุบูู ุงูุนุงุฏู

```bash
npm start
```

### ุงูุทุฑููุฉ ุงูุซุงููุฉ: ูุถุน ุงูุชุทููุฑ (ููุตุญ ุจู)

```bash
npm run dev
```

ุณูุจุฏุฃ ุงูุณูุฑูุฑ ุนูู:
```
http://localhost:8080
```

## ๐ก Endpoints ุงููุชุงุญุฉ

### 1. GET /channels
ุฌูุจ ุฌููุน ุงููููุงุช

**ูุซุงู:**
```bash
curl http://localhost:8080/channels
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
[
  {
    "id": 1,
    "name": "Bein Sports 1 HD",
    "logo": "https://...",
    "urls": [
      {
        "url": "http://...",
        "quality": "360p",
        "user_agent": "Mozilla/5.0..."
      },
      {
        "url": "http://...",
        "quality": "240p",
        "user_agent": "Mozilla/5.0..."
      }
    ]
  }
]
```

### 2. GET /channel/:id
ุฌูุจ ููุงุฉ ูุญุฏุฏุฉ

**ูุซุงู:**
```bash
curl http://localhost:8080/channel/1
```

### 3. POST /channels
ุชุญุฏูุซ ูุงุนุฏุฉ ุจูุงูุงุช ุงููููุงุช

**ูุซุงู:**
```bash
curl -X POST http://localhost:8080/channels \
  -H "Content-Type: application/json" \
  -d @channels.json
```

### 4. GET /health
ูุญุต ุญุงูุฉ ุงูุณูุฑูุฑ

**ูุซุงู:**
```bash
curl http://localhost:8080/health
```

## ๐ ููู ุงูุจูุงูุงุช

ุงูุจูุงูุงุช ูุฎุฒูุฉ ูู: `channels.json`

### ูููู ุงูุจูุงูุงุช:

```json
[
  {
    "id": 1,
    "name": "ุงุณู ุงูููุงุฉ",
    "logo": "ุฑุงุจุท ุดุนุงุฑ ุงูููุงุฉ",
    "urls": [
      {
        "url": "ุฑุงุจุท ุงูุจุซ M3U8",
        "quality": "360p",
        "user_agent": "User-Agent ููุงุชุตุงู"
      }
    ]
  }
]
```

## โ๏ธ ุชุนุฏูู ุงููููุงุช

### ุฅุถุงูุฉ ููุงุฉ ุฌุฏูุฏุฉ:

1. ุงูุชุญ `channels.json`
2. ุฃุถู ุนูุตุฑ ุฌุฏูุฏ:

```json
{
  "id": 8,
  "name": "ููุงุฉ ุฌุฏูุฏุฉ",
  "logo": "https://example.com/logo.png",
  "urls": [
    {
      "url": "http://stream-url.m3u8",
      "quality": "720p",
      "user_agent": "Mozilla/5.0 ..."
    }
  ]
}
```

3. ุงุญูุธ ุงูููู
4. ุฅุฐุง ููุช ุชุณุชุฎุฏู `npm run dev` ุณูุชู ุฅุนุงุฏุฉ ุงูุชุดุบูู ุชููุงุฆูุงู

## ๐ ุงูุงุชุตุงู ูู ุงูุดุจูุฉ ุงููุญููุฉ

### ูุนุฑูุฉ IP ุงูุฎุงุต ุจู:

**Windows:**
```bash
ipconfig
```
ุงุจุญุซ ุนู `IPv4 Address`

**Mac/Linux:**
```bash
ifconfig
```
ุฃู
```bash
ip addr show
```

### ุชุญุฏูุซ ุงูุชุทุจูู:

ุฅุฐุง ุฃุฑุฏุช ุงูุงุชุตุงู ูู ุฌูุงุฒ ุขุฎุฑ ุนูู ููุณ ุงูุดุจูุฉ:

1. ุงูุชุญ `lib/services/channel_service.dart`
2. ุบููุฑ:
```dart
ChannelService({this.baseUrl = 'http://YOUR_IP:8080'})
```

ูุซุงู:
```dart
ChannelService({this.baseUrl = 'http://192.168.1.10:8080'})
```

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููููุฐ 8080 ูุดุบูู:

ุบููุฑ ุงููููุฐ ูู `server.js`:
```javascript
const PORT = 3000; // ุฃู ุฃู ูููุฐ ุขุฎุฑ
```

### CORS Error:

ุชุฃูุฏ ูู ุฃู `cors` ูุซุจุช:
```bash
npm install cors
```

### Cannot find module:

ุชุฃูุฏ ูู ุชุซุจูุช Dependencies:
```bash
npm install
```

## ๐ Logs

ุงูุณูุฑูุฑ ูุทุจุน ูุนูููุงุช ูููุฏุฉ:

```
๐ Server started successfully!
๐ก Listening on: http://0.0.0.0:8080
โ Loaded 7 channels from database
๐ฌ Ready to serve streams!
```

ุนูุฏ ุงุณุชูุจุงู ุทูุจ:
```
๐ก Received request for channels
โ Returning 7 channels
```

## ๐ ุงูุฃูุงู

> โ๏ธ **ุชุญุฐูุฑ**: ูุฐุง ุงูุณูุฑูุฑ ููุงุณุชุฎุฏุงู ุงููุญูู ููุท!
> - ูุง ุชุนุฑุถู ููุฅูุชุฑูุช ุงูุนุงู
> - ุงุณุชุฎุฏูู ุนูู ุดุจูุชู ุงููุญููุฉ ููุท
> - ูุง ูุญุชูู ุนูู authentication

## ๐ฏ ุงููุตุงุฆุญ

1. **ุงุณุชุฎุฏู nodemon ููุชุทููุฑ**: `npm run dev` ูุนูุฏ ุงูุชุดุบูู ุชููุงุฆูุงู ุนูุฏ ุงูุชุนุฏูู
2. **ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ**: ุงูุณุฎ `channels.json` ูุจู ุงูุชุนุฏูู
3. **ุงุฎุชุจุฑ ุจู curl**: ุฌุฑุจ ุงูุทูุจุงุช ูุฏููุงู ููุชุฃูุฏ ูู ุนูู ุงูุณูุฑูุฑ
4. **ุฑุงูุจ ุงูู logs**: ุชุญูู ูู ุทุจุงุนุฉ ุงูุณูุฑูุฑ ูููู ูุง ูุญุฏุซ

## ๐ฆ ุงูุจููุฉ

```
server/
โโโ server.js          # ุงูููู ุงูุฑุฆูุณู ููุณูุฑูุฑ
โโโ channels.json      # ูุงุนุฏุฉ ุจูุงูุงุช ุงููููุงุช
โโโ package.json       # Dependencies
โโโ README.md          # ูุฐุง ุงูููู
```

## ๐ ุงูุฎุทูุงุช ุงูุณุฑูุนุฉ

```bash
# 1. ุชุซุจูุช
cd server
npm install

# 2. ุชุดุบูู
npm start

# 3. ุงุฎุชุจุงุฑ
curl http://localhost:8080/channels

# 4. ุชุดุบูู ุงูุชุทุจูู
cd ..
flutter run
```

## ๐ ููุงุญุธุงุช

- ุงูุณูุฑูุฑ ููุฑุฃ ูู `channels.json` ูู ูู ุทูุจ
- ูููู ุชุญุฏูุซ ุงูุจูุงูุงุช ุฏูู ุฅุนุงุฏุฉ ุชุดุบูู
- ุงุณุชุฎุฏู POST /channels ูุชุญุฏูุซ ุงูุจูุงูุงุช ุจุฑูุฌูุงู
- ุฌููุน ุงูุทูุจุงุช ุชุณุชุฎุฏู JSON format
